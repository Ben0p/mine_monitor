<ng2-smart-table [settings]="subscriberSettings" [source]="subscriberSource" (userRowSelect)="onSelect(detail, $event)"
  (editConfirm)="onDialog(dialog, 'edit', $event)">
</ng2-smart-table>

<ng-template #dialog let-data let-ref="dialogRef">
  <nb-card status="danger">
    <nb-card-header>Warning</nb-card-header>
    <nb-card-body>{{ data }}</nb-card-body>
    <nb-card-footer>
      <div class=wrapper>
        <button nbButton (click)="onModifyConfirm(true); ref.close()">Yes</button>
        &nbsp;&nbsp;
        <button nbButton (click)="onModifyConfirm(false); ref.close()">No</button>
      </div>
    </nb-card-footer>
  </nb-card>
</ng-template>

<ng-template #detail let-data let-ref="dialogRef">
  <nb-card status="primary">
    <nb-card-header>Details for {{data.description}}</nb-card-header>
    <nb-card-body>
      <nb-tabset>
        <nb-tab tabTitle="General" tabIcon="info-outline" responsive>
          <nb-list>
            <nb-list-item>
              <nb-user size="medium" name="Description" title={{data.description}} showInitials=false
                picture='../../../assets/icons/person-outline.svg'>
              </nb-user>
            </nb-list-item>
            <nb-list-item>
              <nb-user size="medium" name="ISSI" title={{data.ssi}} showInitials=false
                picture='../../../assets/icons/hash-outline.svg'>
              </nb-user>
            </nb-list-item>
            <nb-list-item>
              <nb-user size="medium" name="Subscriber Type" title={{data.type}} showInitials=false
                picture='../../../assets/icons/settings-2-outline.svg'></nb-user>
            </nb-list-item>
            <nb-list-item>
              <nb-user size="medium" name="Talkgroup" title={{data.talkgroup}} showInitials=false
                picture='../../../assets/icons/people-outline.svg'></nb-user>
            </nb-list-item>
            <nb-list-item>
              <nb-user size="medium" name="Last Seen" title={{timestamp}} showInitials=false
                picture='../../../assets/icons/clock-outline.svg'></nb-user>
            </nb-list-item>
            <nb-list-item>
              <nb-user size="medium" name="Node" title={{node}} showInitials=false
                picture='../../../assets/icons/radio-outline.svg'></nb-user>
            </nb-list-item>
            <nb-list-item>
              <nb-user size="medium" name="RSSI" title="{{rssi}} {{rssi_units}}" showInitials=false
                picture='../../../assets/icons/wifi-outline.svg'></nb-user>
            </nb-list-item>
          </nb-list>
        </nb-tab>
        <nb-tab tabTitle="Location" tabIcon="pin-outline" responsive>
          <nb-list>
            <nb-list-item>
              Time: {{gps_time}}
            </nb-list-item>
            <nb-list-item>
              Latitude: {{latitude}}
            </nb-list-item>
            <nb-list-item>
              Longitude: {{longitude}}
            </nb-list-item>
            <nb-list-item>
              Altitude: {{altitude}} {{units}}
            </nb-list-item>
            <nb-list-item>
              Accuracy: {{accuracy}} {{units}}
            </nb-list-item>
            <nb-list-item>
              Speed: {{speed}} {{speed_units}}
            </nb-list-item>
            <nb-list-item>
              Angle: {{angle}} {{angle_units}}
            </nb-list-item>
            <nb-list-item>
              Direction: {{direction}}
            </nb-list-item>
            <nb-list-item>
              URL: <a target="_blank" href="{{maps_url}}">{{link_text}}</a>
            </nb-list-item>
          </nb-list>
        </nb-tab>
      </nb-tabset>
    </nb-card-body>
  </nb-card>
</ng-template>